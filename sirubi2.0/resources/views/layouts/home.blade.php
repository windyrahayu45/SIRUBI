
    <div>
  <!-- Hero section -->
      <section
        id="home"
        class="relative overflow-hidden bg-primary text-primary-color pt-[120px] md:pt-[130px] lg:pt-[160px]"
      >
        <div class="container">
          <div class="-mx-5 flex flex-wrap items-center">
            <div class="w-full px-5">
              <div class="scroll-revealed mx-auto max-w-[780px] text-center">
                <h1
                  class="mb-6 text-3xl font-bold leading-snug text-primary-color sm:text-4xl sm:leading-snug lg:text-5xl lg:leading-tight"
                >
                  Sistem Informasi Rumah Kota Bukittinggi
                </h1>

                <p
                  class="mx-auto mb-9 max-w-[600px] text-base text-primary-color sm:text-lg sm:leading-normal"
                >
                  Aplikasi pendataan Rumah Tidak Layak Huni (RTLH) dan Rumah Layak Huni (RLH) yang dirancang untuk memudahkan pemantauan kondisi rumah, validasi data lapangan, dan penyusunan program perbaikan perumahan.
                </p>

                {{-- <ul
                  class="mb-10 flex flex-wrap items-center justify-center gap-4 md:gap-5"
                >
                  <li>
                    <a
                      href="javascript:void(0)"
                      class="inline-flex items-center justify-center rounded-md bg-primary-color text-primary px-5 py-3 text-center text-base font-medium shadow-md hover:bg-primary-light-5 md:px-7 md:py-[14px]"
                      role="button"
                      >Get Started</a
                    >
                  </li>

                  <li>
                    <a
                      href="javascript:boid(0)"
                      class="video-popup flex items-center gap-4 rounded-md bg-primary-color/[0.15] px-5 py-3 text-base font-medium text-primary-color hover:bg-primary-color hover:text-primary md:px-7 md:py-[14px]"
                      role="button"
                      ><i class="lni lni-play text-lg/none"></i> Watch Intro</a
                    >
                  </li>
                </ul> --}}

                {{-- <div>
                  <p class="mb-4 text-center text-primary-color">Powered by</p>

                  <div
                    class="scroll-revealed flex items-center justify-center gap-4 text-center"
                  >
                    <a
                      href="https://tailwindcss.com/"
                      target="_blank"
                      class="text-primary-color/60 hover:text-primary-color"
                    >
                      <svg
                        class="fill-current"
                        height="26"
                        viewBox=".16 .18 799.8 98.72"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="m248.04 41.78h-14.42v27.79c0 7.41 4.89 7.29 14.42 6.83v11.23c-19.3 2.32-26.98-3.01-26.98-18.06v-27.79h-10.7v-12.05h10.7v-15.55l12.56-3.7v19.25h14.42zm54.98-12.05h12.56v57.9h-12.56v-8.34c-4.42 6.14-11.29 9.85-20.36 9.85-15.81 0-28.95-13.32-28.95-30.46 0-17.25 13.14-30.45 28.95-30.45 9.07 0 15.94 3.7 20.36 9.72zm-18.38 47.48c10.47 0 18.38-7.76 18.38-18.53s-7.91-18.53-18.38-18.53-18.37 7.76-18.37 18.53 7.9 18.53 18.37 18.53zm51.87-56.16c-4.42 0-8.03-3.71-8.03-7.99.01-1.05.22-2.09.62-3.06a7.997 7.997 0 0 1 4.34-4.32c.97-.4 2.02-.61 3.07-.61s2.09.21 3.07.61c.97.4 1.85.99 2.6 1.73.74.75 1.33 1.63 1.74 2.59.4.97.61 2.01.61 3.06 0 4.28-3.6 7.99-8.02 7.99zm-6.28 66.58v-57.9h12.56v57.9zm27.1 0v-84.53h12.56v84.53zm94.08-57.9h13.26l-18.26 57.9h-12.33l-12.09-39.02-12.21 39.02h-12.33l-18.26-57.9h13.26l11.28 39.95 12.21-39.95h11.98l12.09 39.95zm28.84-8.68c-4.42 0-8.02-3.71-8.02-7.99 0-1.05.21-2.09.61-3.06.41-.96 1-1.84 1.74-2.59.75-.74 1.63-1.33 2.6-1.73.98-.4 2.02-.61 3.07-.61a8.044 8.044 0 0 1 5.67 2.34c.75.75 1.34 1.63 1.74 2.59.41.97.62 2.01.62 3.06 0 4.28-3.61 7.99-8.03 7.99zm-6.28 66.58v-57.9h12.56v57.9zm80.02-35.55v35.55h-12.56v-34.27c0-8.81-5.12-13.44-13.03-13.44-8.26 0-14.77 4.87-14.77 16.68v31.03h-12.56v-57.9h12.56v7.41c3.84-6.02 10.12-8.91 18.03-8.91 13.02 0 22.33 8.8 22.33 23.85zm59.54-45.51h12.56v81.06h-12.56v-8.34c-4.42 6.14-11.28 9.85-20.35 9.85-15.82 0-28.96-13.32-28.96-30.46 0-17.25 13.14-30.45 28.96-30.45 9.07 0 15.93 3.7 20.35 9.72zm-18.37 70.64c10.46 0 18.37-7.76 18.37-18.53s-7.91-18.53-18.37-18.53c-10.47 0-18.38 7.76-18.38 18.53s7.91 18.53 18.38 18.53zm42.33-18.53c0-17.25 13.14-30.45 30.7-30.45 11.4 0 21.28 5.9 25.93 14.94l-10.81 6.25c-2.56-5.44-8.26-8.92-15.24-8.92-10.23 0-18.02 7.76-18.02 18.18s7.79 18.18 18.02 18.18c6.98 0 12.68-3.59 15.47-8.91l10.82 6.13c-4.89 9.15-14.77 15.06-26.17 15.06-17.56 0-30.7-13.32-30.7-30.46zm108.85 12.62c0 11.58-10.12 17.84-22.68 17.84-11.63 0-20-5.22-23.72-13.55l10.81-6.26c1.87 5.22 6.52 8.34 12.91 8.34 5.59 0 9.89-1.85 9.89-6.48 0-10.31-31.28-4.52-31.28-25.25 0-10.88 9.42-17.71 21.28-17.71 9.53 0 17.44 4.4 21.51 12.04l-10.58 5.91c-2.09-4.52-6.16-6.6-10.93-6.6-4.54 0-8.49 1.96-8.49 6.13 0 10.54 31.28 4.17 31.28 25.59zm53.62 0c0 11.58-10.12 17.84-22.68 17.84-11.63 0-20.01-5.22-23.73-13.55l10.82-6.26c1.86 5.22 6.51 8.34 12.91 8.34 5.58 0 9.88-1.85 9.88-6.48 0-10.31-31.28-4.52-31.28-25.25 0-10.88 9.42-17.71 21.28-17.71 9.54 0 17.45 4.4 21.52 12.04l-10.59 5.91c-2.09-4.52-6.16-6.6-10.93-6.6-4.53 0-8.49 1.96-8.49 6.13 0 10.54 31.29 4.17 31.29 25.59z"
                        />
                        <path
                          d="m82.79.18c-22.03 0-35.81 10.97-41.32 32.91 8.27-10.97 17.91-15.09 28.93-12.35 6.28 1.57 10.77 6.11 15.75 11.14 8.1 8.18 17.48 17.66 37.96 17.66 22.03 0 35.8-10.97 41.31-32.91-8.26 10.97-17.9 15.08-28.92 12.34-6.28-1.56-10.78-6.11-15.75-11.13-8.1-8.19-17.48-17.66-37.96-17.66zm-41.32 49.36c-22.03 0-35.8 10.97-41.31 32.91 8.26-10.97 17.9-15.08 28.92-12.34 6.29 1.56 10.78 6.11 15.75 11.13 8.1 8.19 17.48 17.66 37.96 17.66 22.04 0 35.81-10.97 41.32-32.91-8.27 10.97-17.91 15.09-28.92 12.35-6.29-1.57-10.78-6.11-15.76-11.14-8.1-8.18-17.48-17.66-37.96-17.66z"
                        />
                      </svg>
                    </a>
                  </div>
                </div> --}}
              </div>
            </div>
            <div class="w-full px-5">
              <div class="scroll-revealed relative z-10 mx-auto max-w-[845px]">
                <figure class="mt-16">
                  <img
                    src="{{ asset('landing/assets/img/hero.png') }}"
                    alt="Hero image"
                    class="mx-auto max-w-full rounded-t-xl rounded-tr-xl"
                  />
                </figure>

                <div class="absolute -left-9 bottom-0 z-[-1]">
                  <img
                    src="{{ asset('landing/assets/img/dots.svg') }}"
                    alt
                    class="w-[120px] opacity-75"
                  />
                </div>

                <div class="absolute -right-6 -top-6 z-[-1]">
                  <img
                    src="{{ asset('landing/assets/img/dots.svg') }}"
                    alt
                    class="w-[120px] opacity-75"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- About section -->
      <section id="data" class="section-area">
        <div class="container">
         <div class="scroll-revealed text-center max-w-[550px] mx-auto mb-12">
            <h6 class="mb-2 block text-lg font-semibold text-primary">
                Data
            </h6>
            <h2 class="mb-6">Layanan Utama SIRUBI</h2>
            <p>
                SIRUBI menyediakan pendataan RTLH dan RLH yang akurat, terintegrasi, 
                serta mudah diakses untuk mendukung perencanaan pembangunan perumahan 
                yang lebih tepat sasaran.
            </p>
          </div>

          <div class="row">
            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">
              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                     <h4 class="text-4xl font-extrabold bg-gradient-to-r from-primary to-blue-500 bg-clip-text text-transparent tracking-wide">
                        {{ number_format($rumah['total']) }}
                     </h4>

                      <!-- Efek dekorasi hover -->
                      <span
                          class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-primary opacity-0 group-hover:opacity-100"
                      ></span>
                      <span
                          class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-primary opacity-0 group-hover:opacity-100"
                      ></span>
                  </div>

                  <figcaption class="text-center block">
                      <h4 class="mb-1 text-lg font-semibold text-body-light-12 dark:text-body-dark-12">
                          Total Rumah
                      </h4>
                      <p class="text-sm text-body-light-11 dark:text-body-dark-11">
                          Jumlah seluruh rumah yang terdata di SIRUBI.
                      </p>
                  </figcaption>
              </figure>
            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-red-500 to-red-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($rumah['rtlh']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-red-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-red-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center block">
                      <h4 class="mb-1 text-lg font-semibold">RTLH</h4>
                      <p class="text-sm opacity-70">Rumah Tidak Layak Huni yang teridentifikasi.</p>
                  </figcaption>
              </figure>

            </div>
            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">
              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                    <h4 class="text-4xl font-extrabold bg-gradient-to-r from-green-500 to-emerald-400 bg-clip-text text-transparent tracking-wide">
                        {{ number_format($rumah['rlh']) }}
                    </h4>

                    <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-green-500 opacity-0 group-hover:opacity-100"></span>
                    <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-emerald-400 opacity-0 group-hover:opacity-100"></span>
                </div>

                <figcaption class="text-center block">
                    <h4 class="mb-1 text-lg font-semibold">RLH</h4>
                    <p class="text-sm opacity-70">Rumah Layak Huni yang memenuhi standar.</p>
                </figcaption>
              </figure>

            </div>
            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-yellow-500 to-amber-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($rumah['dtks']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-yellow-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-amber-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center block">
                      <h4 class="mb-1 text-lg font-semibold">Rumah DTKS</h4>
                      <p class="text-sm opacity-70">Rumah yang terdata dalam kategori DTKS.</p>
                  </figcaption>
              </figure>

             </div>

             <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-primary to-blue-500 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($penduduk['total']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-primary opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center block">
                      <h4 class="mb-1 text-lg font-semibold">Total Penduduk</h4>
                      <p class="text-sm opacity-70">Total penghuni seluruh rumah.</p>
                  </figcaption>
              </figure>

             </div>
             <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                    <h4 class="text-4xl font-extrabold bg-gradient-to-r from-blue-600 to-blue-400 bg-clip-text text-transparent tracking-wide">
                        {{ number_format($penduduk['laki']) }}
                    </h4>

                    <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-blue-600 opacity-0 group-hover:opacity-100"></span>
                    <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-blue-400 opacity-0 group-hover:opacity-100"></span>
                </div>

                <figcaption class="text-center block">
                    <h4 class="mb-1 text-lg font-semibold">Laki-laki</h4>
                    <p class="text-sm opacity-70">Jumlah semua penghuni laki-laki.</p>
                </figcaption>
            </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">
              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                    <h4 class="text-4xl font-extrabold bg-gradient-to-r from-pink-500 to-rose-400 bg-clip-text text-transparent tracking-wide">
                        {{ number_format($penduduk['perempuan']) }}
                    </h4>

                    <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-pink-500 opacity-0 group-hover:opacity-100"></span>
                    <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-rose-400 opacity-0 group-hover:opacity-100"></span>
                </div>

                <figcaption class="text-center block">
                    <h4 class="mb-1 text-lg font-semibold">Perempuan</h4>
                    <p class="text-sm opacity-70">Jumlah seluruh penghuni perempuan.</p>
                </figcaption>
              </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-purple-500 to-fuchsia-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($penduduk['abk']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-purple-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-fuchsia-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center block">
                      <h4 class="mb-1 text-lg font-semibold">ABK</h4>
                      <p class="text-sm opacity-70">Jumlah anak berkebutuhan khusus.</p>
                  </figcaption>
              </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-blue-500 to-cyan-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($kawasan['imb']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-blue-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-cyan-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center">
                      <h4 class="mb-1 text-lg font-semibold">Ada IMB</h4>
                      <p class="text-sm opacity-70">Rumah yang memiliki IMB resmi.</p>
                  </figcaption>
              </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-orange-500 to-amber-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($kawasan['non_imb']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-orange-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-amber-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center">
                      <h4 class="mb-1 text-lg font-semibold">Tidak Ada IMB</h4>
                      <p class="text-sm opacity-70">Rumah tanpa IMB atau belum terdata.</p>
                  </figcaption>
              </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-green-500 to-lime-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($kawasan['permukiman']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-green-500 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-lime-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center">
                      <h4 class="mb-1 text-lg font-semibold">Kawasan Permukiman</h4>
                      <p class="text-sm opacity-70">Rumah  di area permukiman.</p>
                  </figcaption>
              </figure>

            </div>

            <div class="scroll-revealed col-12 sm:col-6 md:col-3 lg:col-3">

              <figure class="group rounded-xl bg-body-light-1 dark:bg-body-dark-12/10 px-5 pb-10 pt-12 shadow-card-2 hover:shadow-lg hover:-translate-y-1">
                  <div class="relative z-10 mx-auto mb-5 h-[120px] w-[120px] flex items-center justify-center">
                      <h4 class="text-4xl font-extrabold bg-gradient-to-r from-red-600 to-rose-400 bg-clip-text text-transparent tracking-wide">
                          {{ number_format($kawasan['bencana']) }}
                      </h4>

                      <span class="absolute bottom-0 left-0 -z-10 h-10 w-10 rounded-full bg-red-600 opacity-0 group-hover:opacity-100"></span>
                      <span class="absolute top-0 right-0 -z-10 h-10 w-10 rounded-full bg-rose-400 opacity-0 group-hover:opacity-100"></span>
                  </div>

                  <figcaption class="text-center">
                      <h4 class="mb-1 text-lg font-semibold">Rawan Bencana</h4>
                      <p class="text-sm opacity-70">Rumah  di area rawan bencana.</p>
                  </figcaption>
              </figure>

            </div>



          </div>
        </div>
      </section>

      <!-- Services section -->
      <section id="peta" class="section-area">
        <div class="container">
          <div class="scroll-revealed text-center max-w-[550px] mx-auto mb-12">
            <h6 class="mb-2 block text-lg font-semibold text-primary">
                Peta Sebaran
            </h6>
            <h2 class="mb-6">Sebaran RTLH di Kota Bukittinggi</h2>
            <p>
                Visualisasi lokasi Rumah Tidak Layak Huni (RTLH) secara interaktif untuk
                memudahkan pemetaan, analisis kondisi, dan penentuan prioritas bantuan.
            </p>
          </div>

           {{-- <div class="scroll-revealed relative max-w-[900px] mx-auto">
            <img
              src="{{ asset('landing/assets/img/intro-video.jpg') }}"
              alt="Intro video"
              class="w-full h-full aspect-video rounded-xl object-cover"
            />
            <a
              href="javascript:void(0)"
              class="video-popup w-[80px] h-[80px] rounded-full inline-flex items-center justify-center bg-primary text-primary-color text-[1.875rem] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 shadow-md hover:bg-primary-color hover:text-primary hover:shadow-xl focus:bg-primary-color focus:text-primary focus:shadow-xl"
            >
              <i class="lni lni-play"></i>
            </a>
          </div> --}}

          <div class="scroll-revealed  relative max-w-[1000px] mx-auto mt-10">
                <button id="btnFullscreenHome"
                    class="absolute z-20 top-3 right-3 bg-white shadow px-3 py-1 rounded text-sm font-semibold">
                    ‚õ∂ Maximize
                </button>

                <div id="map" style="height: 550px; width: 100%; border-radius: 12px; overflow: hidden;"></div>
          </div>
        </div>
      </section>

    
      <!-- Blog section -->
      <section id="rekap" class="section-area">
        <div class="container">
          <div class="scroll-revealed text-center max-w-[550px] mx-auto mb-12">
            <h6 class="mb-2 block text-lg font-semibold text-primary">Rekapitulasi</h6>
            <h2 class="mb-6">Rekapitulasi Data</h2>
            <p>
                Menyajikan rangkuman kondisi perumahan, RTLH, kependudukan, serta kawasan di 
                setiap kecamatan sebagai dasar analisis dan pengambilan kebijakan pembangunan.
            </p>
          </div>

         <div class="row">

              @foreach ($kecamatan as $kec)
              <div class="scroll-revealed col-12 sm:col-6 lg:col-4">
                  <article class="group cursor-pointer"   x-data
                  @click="
                      Swal.fire({
                          title: 'Mengambil data...',
                          html: 'Mohon tunggu sebentar',
                          allowOutsideClick: false,
                          didOpen: () => Swal.showLoading()
                      });

                      Livewire.dispatch('openRekapKecamatan', { id: {{ $kec->id_kecamatan }} });
                  ">

                      <div class="relative">
                          <a class="w-full aspect-[3/2] rounded-xl overflow-hidden block">
                              <img src="{{ asset('landing/assets/img/hero.png') }}"
                                  
                                  alt="Kecamatan {{ $kec->nama_kecamatan }}"
                                  class="w-full h-full object-cover group-hover:scale-[1.05] group-hover:rotate-[2deg] transition">
                          </a>
                      </div>

                      <span class="block mt-6 text-sm text-body-light-10 dark:text-body-dark-10">
                          {{ $kec->nama_kecamatan }}
                      </span>

                      <h4 class="mb-3 mt-2 font-semibold text-[1.5rem]">
                          <a class="text-body-light-12 dark:text-body-dark-12">
                              Rekapitulasi {{ $kec->nama_kecamatan }}
                          </a>
                      </h4>

                      <p class="text-sm text-gray-600 dark:text-gray-300">
                          RTLH: <b>{{ $kec->rtlh }}</b> ‚Ä¢
                          RLH: <b>{{ $kec->rlh }}</b> ‚Ä¢
                          Rumah Total: <b>{{ $kec->total_rumah }}</b>
                      </p>
                  </article>
              </div>
              @endforeach

          </div>

        </div>
      </section>

      

    
      <!-- Contact section -->
      <section id="rekapSection" class="section-area hidden mt-20">
        <div class="container">
            
            <h3 class="text-2xl font-bold  mb-4">
                Rekapitulasi Kecamatan: <span id="rekapNama"></span>
            </h3>

            <div id="rekapContainer">
                <!-- isi tabel akan diganti via Livewire dispatch -->
                <p class="text-gray-500">Silahkan pilih kecamatan...</p>
            </div>

        </div>
    </section>

    <section id="pengaduan" class="section-area" >
        <div class="container">
            <div class="row">

                <!-- LEFT INFO BOX (tetap seperti template asli) -->
                <div class="col-12 xl:col-4">
                    <div class="row">

                        <div class="col-12 md:col-6 xl:col-12">
                            <div class="scroll-revealed py-5 px-6 rounded-xl shadow-card-1 bg-body-light-1 dark:bg-primary-dark-2 flex gap-6 hover:shadow-lg">
                                <div>
                                    <i class="lni lni-map-marker w-[50px] h-[50px] inline-flex items-center justify-center rounded-lg text-[1.25rem] bg-primary text-primary-color"></i>
                                </div>
                                <div>
                                    <h4 class="text-[1.25rem] text-primary mb-3">Alamat Kantor</h4>
                                    <p class="m-0">Dinas Perumahan & Kawasan Permukiman</p>
                                    <p class="m-0">Kota  Bukittinggi</p>
                                </div>
                            </div>
                        </div>

                        <div class="col-12 md:col-6 xl:col-12">
                            <div class="scroll-revealed py-5 px-6 rounded-xl shadow-card-1 bg-body-light-1 dark:bg-primary-dark-2 flex gap-6 hover:shadow-lg">
                                <div>
                                    <i class="lni lni-alarm-clock w-[50px] h-[50px] inline-flex items-center justify-center rounded-lg text-[1.25rem] bg-primary text-primary-color"></i>
                                </div>
                                <div>
                                    <h4 class="text-[1.25rem] text-primary mb-3">Jam Layanan</h4>
                                    <p class="m-0">Senin ‚Äì Jumat</p>
                                    <p class="m-0">08:00 ‚Äì 16:00 WIB</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                
                <!-- RIGHT FORM -->
                <div class="col-12 xl:col-8">
                    <div class="scroll-revealed bg-body-light-1 dark:bg-primary-dark-2 rounded-xl py-8 sm:py-12 px-6 sm:px-10 shadow-card-1 hover:shadow-lg">

                        <!-- TITLE -->
                        <div class="text-center max-w-[550px] mx-auto mb-12">
                            <h6 class="mb-2 block text-lg font-semibold text-primary">
                                Form Pengaduan Masyarakat
                            </h6>
                            <h2 class="mb-3">Sampaikan Pengaduan Anda</h2>
                            <p>
                                Laporkan kondisi rumah, sanitasi, lingkungan, atau infrastruktur 
                                yang membutuhkan perhatian pemerintah. Pengaduan Anda membantu 
                                proses penanganan dan kebijakan pembangunan.
                            </p>
                        </div>

                        <!-- FORM -->
                        <div  class="flex flex-col gap-6">

                            <div class="row">

                                <div class="col-12 md:col-6">
                                    <input type="text" wire:model="nama" class="block w-full px-5 py-3 rounded-md border" placeholder="Nama Pelapor">
                                    @error('nama') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12 md:col-6">
                                    <input type="text"
                                        wire:model="no_hp"
                                        inputmode="numeric"
                                        pattern="[0-9]*"
                                        maxlength="15"
                                        oninput="
                                            this.value = this.value.replace(/[^0-9]/g, '');
                                        "
                                        class="block w-full px-5 py-3 rounded-md border"
                                        placeholder="Nomor HP">

                                    @error('no_hp') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12">
                                    <input type="text" wire:model="judul" class="block w-full px-5 py-3 rounded-md border" placeholder="Judul Pengaduan">
                                    @error('judul') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12 md:col-6">
                                    <select wire:model="kategori" class="block w-full px-5 py-3 rounded-md border">
                                        <option value="">Pilih Kategori</option>
                                        <option value="Rumah">Rumah</option>
                                        <option value="Sanitasi">Sanitasi</option>
                                        <option value="Lingkungan">Lingkungan</option>
                                        <option value="Infrastruktur">Infrastruktur</option>
                                    </select>
                                    @error('kategori') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12 md:col-6">
                                    <input type="text" wire:model="lokasi" class="block w-full px-5 py-3 rounded-md border" placeholder="Lokasi Pengaduan">
                                    @error('lokasi') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12">
                                    <textarea wire:model="deskripsi" rows="5" class="block w-full px-5 py-3 rounded-md border" placeholder="Deskripsi Pengaduan"></textarea>
                                    @error('deskripsi') <small class="text-danger">{{ $message }}</small> @enderror
                                </div>

                                <div class="col-12">
                                    <input type="file" wire:model="foto" multiple class="block w-full px-5 py-3 rounded-md border">
                                    @error('foto.*') <small class="text-danger">{{ $message }}</small> @enderror

                                    <div wire:loading wire:target="foto" class="text-primary text-sm mt-2">
                                        Mengupload foto...
                                    </div>
                                </div>

                                <div class="col-12 text-center">
                                    <button type="button" wire:click="submitPengaduan"
                                        class="px-5 py-3 rounded-md bg-primary text-white">
                                        Kirim Pengaduan
                                    </button>
                                </div>

                            </div>
                        </div >

                    </div>
                </div>

            </div>
        </div>
    </section>

    </div>
    
 @push('styles')
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/ismyrnow/leaflet-groupedlayercontrol@gh-pages/dist/leaflet.groupedlayercontrol.min.css" />
    
    <link href="{{ asset('assets/js/leaflet/leaflet-control-credits.css') }}" rel="stylesheet" type="text/css" />
    <link
  rel="stylesheet"
  href="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/leaflet.fullscreen.css"
/>

    <style>
        .legend {
            padding:6px 8px;
            font:14px Arial,Helvetica,sans-serif;
            background:rgba(11, 11, 11, 0.452);
            box-shadow:0 0 15px rgba(0,0,0,0.3);
            color: aliceblue;    
            border-radius:5px;
            line-height:24px;
        }
        .legend i {width:18px;height:18px;float:left;margin:0 8px 0 0;}
        .layer-toggle-btn {
            position:absolute;top:10px;right:10px;z-index:9999;
            background:rgb(158, 156, 156);border:1px solid #161515;
            padding:5px 10px;border-radius:4px;cursor:pointer;
            box-shadow:0 2px 6px rgba(0,0,0,0.2);
            font-size:14px;font-weight:600;
        }

            /* üß© default (normal mode) */
    .leaflet-bottom.leaflet-right {
        margin-bottom: 5px !important;
        margin-right: 5px !important;
    }

    .leaflet-bottom.leaflet-left {
        margin-bottom: 20px !important;
        margin-left: 20px !important;
    }

    /* üß≠ saat elemen cardPeta fullscreen */
    #cardPeta:fullscreen .leaflet-bottom.leaflet-right {
        margin-bottom: 55px !important;
        margin-right: 55px !important;
    }

    #cardPeta:fullscreen .leaflet-bottom.leaflet-left {
        margin-bottom: 65px !important;
        margin-left: 55px !important; /* ‚Üê kamu typo: harus px, bukan 505x üòÑ */
    }


    </style>
   @endpush
   @push('scripts')

    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/mcstudios/glightbox/dist/js/glightbox.min.js"></script>
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>

    <script src="{{ asset('landing/assets/js/main.js') }}"></script>

    <script>
      // Scroll Reveal
      const sr = ScrollReveal({
        origin: "bottom",
        distance: "16px",
        duration: 1000,
        reset: false,
      });

      sr.reveal(`.scroll-revealed`, {
        cleanup: true,
      });

      // GLightBox
      GLightbox({
        selector: ".video-popup",
        href: "https://www.youtube.com/watch?v=r44RKWyfcFw&fbclid=IwAR21beSJORalzmzokxDRcGfkZA1AtRTE__l5N4r09HcGS5Y6vOluyouM9EM",
        type: "video",
        source: "youtube",
        width: 900,
        autoplayVideos: true,
      });

      const myGallery3 = GLightbox({
        selector: ".portfolio-box",
        type: "image",
        width: 900,
      });

      // Testimonial
      const testimonialSwiper = new Swiper(".testimonial-carousel", {
        slidesPerView: 1,
        spaceBetween: 30,

        navigation: {
          nextEl: ".swiper-button-next",
          prevEl: ".swiper-button-prev",
        },

        breakpoints: {
          640: {
            slidesPerView: 2,
            spaceBetween: 30,
          },
          1024: {
            slidesPerView: 3,
            spaceBetween: 30,
          },
          1280: {
            slidesPerView: 3,
            spaceBetween: 30,
          },
        },
      });
    </script>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://api.mapbox.com/mapbox.js/plugins/leaflet-fullscreen/v1.0.1/Leaflet.fullscreen.min.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/ismyrnow/leaflet-groupedlayercontrol@gh-pages/dist/leaflet.groupedlayercontrol.min.js"></script>
    <script src="{{ asset('assets/js/leaflet/leaflet-control-credits-src.js') }}"></script>
    <script>
     document.addEventListener('livewire:init', () => {
        Livewire.on('initMap', (data) => {
            console.log("‚úÖ Data map siap:", data);

            const map = L.map('map', {
              fullscreenControl: true,   // ‚õ∂ tombol fullscreen otomatis
              fullscreenControlOptions: {
                  position: 'topleft',   // kiri atas (bisa diganti: 'topright')
              },
                center: [-0.303431, 100.374528],
                zoom: 13,
                layers: []
            });

            // üó∫Ô∏è Base maps
            const baseMaps = {
                "Google Hybrid": L.tileLayer('https://{s}.google.com/vt/lyrs=s,h&x={x}&y={y}&z={z}', {
                    maxZoom: 21, subdomains: ['mt0','mt1','mt2','mt3']
                }).addTo(map),
                "Google Streets": L.tileLayer('https://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
                    maxZoom: 21, subdomains: ['mt0','mt1','mt2','mt3']
                })
            };

            const groups = {
                kecamatan: new L.LayerGroup(),
                kawasan_kumuh: new L.LayerGroup(),
                kawasan_permukiman: new L.LayerGroup(),
                kawasan_rawan: new L.LayerGroup(),
                sp_1: L.markerClusterGroup(),
                sp_2: L.markerClusterGroup(),
                sp_3: L.markerClusterGroup()
            };

            // üß≠ Polygon Kelurahan per kecamatan
            const kecGroups = {};
            data[0].polygon_kelurahan.forEach(p => {
                const namaKec = p.nama_kecamatan || 'Tidak Diketahui';
                if (!kecGroups[namaKec]) kecGroups[namaKec] = new L.LayerGroup();

                try {
                    L.geoJson(JSON.parse(p.polygon), {
                        color: p.warna || 'yellow',
                        weight: 2,
                        fillOpacity: 0.2
                    }).bindPopup(`
                       <div style="color:#000; background:#fff; border:1px solid #000; border-radius:6px; padding:6px; font-size:13px;">
                            <table style="width:100%; border-collapse:collapse; border:1px solid #000;">
                                <thead>
                                    <tr>
                                        <th colspan="3"
                                            style="background:#f2f2f2; color:#000; border:1px solid #000;
                                                text-align:center; font-weight:bold;">
                                            INFORMASI KELURAHAN
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td style="border:1px solid #000; padding:4px; width:110px;">Kecamatan</td>
                                        <td style="border:1px solid #000; padding:4px; width:10px;">:</td>
                                        <td style="border:1px solid #000; padding:4px;">${p.nama_kecamatan ?? '-'}</td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid #000; padding:4px;">Kelurahan</td>
                                        <td style="border:1px solid #000; padding:4px;">:</td>
                                        <td style="border:1px solid #000; padding:4px;">${p.nama_kelurahan ?? '-'}</td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid #000; padding:4px;">Luas</td>
                                        <td style="border:1px solid #000; padding:4px;">:</td>
                                        <td style="border:1px solid #000; padding:4px;">${p.luas ?? '-'} Ha</td>
                                    </tr>
                                    <tr>
                                        <td style="border:1px solid #000; padding:4px;">Keterangan</td>
                                        <td style="border:1px solid #000; padding:4px;">:</td>
                                        <td style="border:1px solid #000; padding:4px;">${p.keterangan ?? '-'}</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    `).addTo(kecGroups[namaKec]);
                } catch (e) {
                    console.warn('Invalid polygon kelurahan:', e);
                }
            });

            // üèûÔ∏è Polygon Kawasan
            data[0].polygon_kawasan.forEach(group => {
                group.data.forEach(p => {
                    try {
                        const poly = L.geoJson(JSON.parse(p.polygon), {
                            color: group.color, weight: 2, fillOpacity: 0.3
                        }).bindPopup(`
                           <div style="color:#000; background:#fff; border:1px solid #000; border-radius:6px; padding:6px; font-size:13px;">
                                <table style="width:100%; border-collapse:collapse; border:1px solid #000;">
                                    <thead>
                                        <tr>
                                            <th colspan="3" 
                                                style="background:#f2f2f2; color:#000; border:1px solid #000; text-align:center; font-weight:bold;">
                                                INFORMASI ${p.jenis_polygon?.toUpperCase() ?? 'KAWASAN'}
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td style="border:1px solid #000; padding:4px; width:110px;">Nama Kawasan</td>
                                            <td style="border:1px solid #000; padding:4px; width:10px;">:</td>
                                            <td style="border:1px solid #000; padding:4px;">${p.nama_kawasan ?? '-'}</td>
                                        </tr>
                                        <tr>
                                            <td style="border:1px solid #000; padding:4px;">Jenis</td>
                                            <td style="border:1px solid #000; padding:4px;">:</td>
                                            <td style="border:1px solid #000; padding:4px;">${p.jenis_polygon ?? '-'}</td>
                                        </tr>
                                        <tr>
                                            <td style="border:1px solid #000; padding:4px;">Luas</td>
                                            <td style="border:1px solid #000; padding:4px;">:</td>
                                            <td style="border:1px solid #000; padding:4px;">${p.luas ?? '-'} Ha</td>
                                        </tr>
                                        <tr>
                                            <td style="border:1px solid #000; padding:4px;">Keterangan</td>
                                            <td style="border:1px solid #000; padding:4px;">:</td>
                                            <td style="border:1px solid #000; padding:4px;">${p.keterangan ?? '-'}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        `);
                        if (p.jenis_polygon.includes('Kumuh')) poly.addTo(groups.kawasan_kumuh);
                        else if (p.jenis_polygon.includes('Permukiman')) poly.addTo(groups.kawasan_permukiman);
                        else poly.addTo(groups.kawasan_rawan);
                    } catch (e) {
                        console.warn('Invalid polygon kawasan:', e);
                    }
                });
            });

            // üè† Marker Rumah per prioritas
            const icons = {
                sp_1: L.icon({ iconUrl: '/assets/images/icon2.png', iconSize: [30, 33] }),
                sp_2: L.icon({ iconUrl: '/assets/images/icon4.png', iconSize: [30, 33] }),
                sp_3: L.icon({ iconUrl: '/assets/images/icon3.png', iconSize: [30, 33] })
            };

            // Loop semua kategori SP
            Object.entries(data[0].rumah).forEach(([key, rumahList]) => {
                rumahList.forEach(r => {
                    const lat = parseFloat(r.latitude), lng = parseFloat(r.longitude);
                    if (isNaN(lat) || isNaN(lng)) return;

                    const foto = r.foto_url
                        ? `<img width="250px" src="${r.foto_url}" onerror="this.src='/images/no_photo.jpg'">`
                        : `<img width="250px" src="/images/no_photo.jpg">`;

                    const prioritasHTML = cekPrioritas(r.prioritas_a, r.prioritas_b, r.prioritas_c);

                    const popupHTML = `
                        <div style="color:#000; background:#fff; border:1px solid #000; border-radius:6px; padding:6px; font-size:13px;">
                            <table style="width:100%; border-collapse:collapse; border:1px solid #000;">
                                <thead>
                                    <tr>
                                        <th colspan="3" style="background:#f2f2f2; color:#000; border:1px solid #000; text-align:center; font-weight:bold;">
                                            INFORMASI RUMAH<br>
                                            <small>${r.status_rumah ?? '-'}</small>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                   
                                    
                                    <tr><td style="border:1px solid #000;">Kelurahan</td><td style="border:1px solid #000;">:</td><td style="border:1px solid #000;">${r.nama_kelurahan ?? '-'}</td></tr>
                                    <tr><td style="border:1px solid #000;">Kecamatan</td><td style="border:1px solid #000;">:</td><td style="border:1px solid #000;">${r.nama_kecamatan ?? '-'}</td></tr>
                                    <tr><td style="border:1px solid #000;">Latitude</td><td style="border:1px solid #000;">:</td><td style="border:1px solid #000;">${r.latitude}</td></tr>
                                    <tr><td style="border:1px solid #000;">Longitude</td><td style="border:1px solid #000;">:</td><td style="border:1px solid #000;">${r.longitude}</td></tr>
                                    <tr><td style="border:1px solid #000;">Prioritas</td><td style="border:1px solid #000;">:</td><td style="border:1px solid #000;">${prioritasHTML}</td></tr>
                                    
                                   
                                </tbody>
                            </table>
                        </div>`;


                    const marker = L.marker([lat, lng], { icon: icons[key] }).bindPopup(popupHTML);
                    groups[key].addLayer(marker);
                });
            });

            // üß© Layer Control
            const groupedOverlays = {
                "<b>KECAMATAN</b>": Object.fromEntries(
                    Object.entries(kecGroups).map(([nama, layer]) => [nama, layer])
                ),
                "<b>JENIS KAWASAN</b>": {
                    "Kawasan Kumuh": groups.kawasan_kumuh,
                    "Kawasan Permukiman": groups.kawasan_permukiman,
                    "Kawasan Rawan Bencana": groups.kawasan_rawan
                },
                "<b>SKALA PRIORITAS</b>": {
                    "Prioritas 1": groups.sp_1,
                    "Prioritas 2": groups.sp_2,
                    "Prioritas 3": groups.sp_3
                }
            };
            // üü¢ Tambahkan SEMUA layer ke peta supaya langsung aktif saat load
                Object.values(kecGroups).forEach(layer => map.addLayer(layer));
                map.addLayer(groups.kawasan_kumuh);
                map.addLayer(groups.kawasan_permukiman);
                map.addLayer(groups.kawasan_rawan);
                map.addLayer(groups.sp_1);
                map.addLayer(groups.sp_2);
                map.addLayer(groups.sp_3);

                // üîò Tambahkan control ke peta
                L.control.groupedLayers(baseMaps, groupedOverlays, { collapsed: false }).addTo(map);

                // üèôÔ∏è Credit control seperti di CI3
            const credctrl = L.controlCredits({
                image: `${window.location.origin}/assets/images/favicon_peta.png`,
                link :'/',
                text: "Credits<br/>Control"
            }).addTo(map);

            // ubah teksnya setelah delay kecil
            setTimeout(() => {
                credctrl.setText("Sistem Informasi Rumah<br/>Kota Bukittinggi");
            }, 500);


            // üß≠ Legend
            const legend = L.control({ position: "bottomright" });
            legend.onAdd = function(map) {
                const div = L.DomUtil.create("div", "legend");
                div.innerHTML = `
                    <h4 style="margin-bottom:6px; color:#ffffff">Keterangan</h4>
                    <div style="line-height:22px;">
                        <i class="icon" style="
                            background-image:url('${window.location.origin}/assets/images/icon2.png');
                            background-size:contain;
                            background-repeat:no-repeat;
                            display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>RTLH Prioritas 1</span><br>

                        <i class="icon" style="
                            background-image:url('${window.location.origin}/assets/images/icon4.png');
                            background-size:contain;
                            background-repeat:no-repeat;
                            display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>RTLH Prioritas 2</span><br>

                        <i class="icon" style="
                            background-image:url('${window.location.origin}/assets/images/icon3.png');
                            background-size:contain;
                            background-repeat:no-repeat;
                            display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>RTLH Prioritas 3</span><br>

                        <i style="
                            background:purple; display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>Kawasan Kumuh</span><br>

                        <i style="
                            background:green; display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>Kawasan Permukiman</span><br>

                        <i style="
                            background:black; display:inline-block;
                            width:18px; height:18px; vertical-align:middle;
                            margin-right:6px;
                        "></i><span>Kawasan Rawan Bencana</span>
                    </div>
                `;
                return div;
            };

            legend.addTo(map);

            // üí° Helper prioritas
            function cekPrioritas(a, b, c) {
                let html = '';

                if (a == 2)
                    html += '<span class="badge bg-danger" style="margin-right:4px;">Prioritas 1</span>';
                if (b == 2)
                    html += '<span class="badge bg-warning text-dark" style="margin-right:4px;">Prioritas 2</span>';
                if (c == 2)
                    html += '<span class="badge bg-success" style="margin-right:4px;">Prioritas 3</span>';

                return html || '<span class="badge bg-secondary">Tidak Ada</span>';
            }

        });
    });
    </script>

   
<script>
document.addEventListener('livewire:init', () => {
    Livewire.on('showRekapModal', (data) => {

        console.log("Rekap diterima:", data);
         Swal.close();
        // Tampilkan section
        const section = document.getElementById('rekapSection');
        section.classList.remove('hidden');

        // Set Nama Kecamatan
        document.getElementById('rekapNama').innerText = data[0].nama;

        // Render HTML tabel ke dalam div
        document.getElementById('rekapContainer').innerHTML = data[0].html;

        // scroll halus agar user langsung melihat tabel
        section.scrollIntoView({ behavior: 'smooth' });
    });
});
</script>

<script>
document.addEventListener('livewire:init', () => {
    Livewire.on('pengaduanSuccess', () => {
        Swal.fire({
            icon: 'success',
            title: 'Pengaduan Berhasil Dikirim!',
            text: 'Terima kasih, laporan Anda sudah kami terima.',
            timer: 2000,
            showConfirmButton: false
        });
    });
});
</script>



   @endpush


